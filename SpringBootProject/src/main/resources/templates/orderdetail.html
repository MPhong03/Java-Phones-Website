<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
	crossorigin="anonymous"></script>
<title>Thông tin đơn hàng</title>
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <link rel="stylesheet" href="css/headerfooter.css">
    <link rel="stylesheet" href="css/orderdetail.css">
</head>

<body>
	<div th:replace="~{layouts/user/header:: header}"></div>
	
	 <div class="container-fluid" style="margin-top: 20px;" id="detail">
            <div class="row justify-content-center">
                 
               <div class="col-lg-11 col-md-11 col-sm-11 col-xs-11"   >
                      <div class="row">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="text-align: center;">
                                    <h3> Thông tin đơn hàng</h3>
                                    <p class="code" style="font-size: 18px;"> Mã:  <span th:text="${or.code}" > </span></p>
                            </div>

                            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12"   style="">
                                <p> <span class="tieude"> Họ tên: </span>  <span class="noidung"  th:text="${or.fullname}"> </span></p>
                                <p> <span class="tieude">Email:  </span>  <span class="noidung"  th:text="${or.email}"> </span></p>
                                <p> <span class="tieude">Số điện thoại:  </span >  <span class="noidung"  th:text="${or.phonenumber}"> </span></p>
                                <p> <span class="tieude">Khu vực:  </span>  <span class="noidung" th:text="${or.province}"> </span></p>
                            </div>

                            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12"   style="">
                                
                                <p> <span class="tieude">Địa chỉ: </span>  <span class="noidung" th:text="${or.address}"> </span></p>
                                <p> <span class="tieude">Ngày đặt hàng: </span>  <span class="noidung" th:text="${or.date}"> </span></p>
                                <p th:if="${or.status == 0}"> <span class="tieude">Tình trạng đơn hàng: </span>  <span class="noidung" > Đang xử lý </span></p>
                                <p th:if="${or.status == 1}"> <span class="tieude">Tình trạng đơn hàng: </span>  <span class="noidung" > Đang giao hàng </span></p>
                                <p th:if="${or.status == 2}"> <span class="tieude">Tình trạng đơn hàng: </span>  <span class="noidung" > Đã giao hàng</span></p>
                            </div>

                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="margin-top: 20px;margin-bottom: 20px;">
                                <p class="tieude" > Danh sách sản phẩm: </p>
                                
                                 <table class="table table-hover">
									   <th>STT</th>
									   <td></td>
				                       <th>Tên</th>
				                       <th>Giá</th>
				                       <th>Số lượng</th>
				                       
				                       <tbody th:with="mycounter = ${counter.get()}">
												 <tr th:with="mycounter=${counter.incrementAndGet()}"  th:each ="ord : ${list}" >
													     <td th:text = "${mycounter}" ></td>
													     <td> <img th:src = "${ord.productid.ImageLink}" style="width: 50%;"> </td>
													     <td > <a href="#" th:text="${ord.productid.ProductName}" style="text-decoration: none; color: black;"> </a></td>
													     <td > <span th:text = "${ord.productid.price}"> </span> VND</td>
													     <td th:text = "${ord.quantity}" ></td>
												  </tr>	 
									  </tbody>
									              
							     </table>
                                
                           </div>

                           <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6"   style="">
                              <p> <span class="tieude">Tổng cộng: </span>  <span class="noidung" th:text = "${or.total + discount} +' '+VND" > </span> </p>
                               <p th:if = "${code != null}"> <span class="tieude">Mã giảm giá: </span>  <span class="noidung" th:text = "${code.codetext}"> </span> <span class="noidung" th:text=" ${ code.price} + ' ' +VND"> </span> </p>
                               <p th:if = "${code == null}"> <span class="tieude">Mã giảm giá: </span>  <span class="noidung">Không có</span></p>
                               <p> <span class="tieude">Thành tiền: </span>  <span class="noidung" th:text = "${or.total} +' ' +VND"> </span> </p>
                          </div>
                             
                      </div>

                      
                 </div>
                
            </div>

           
    </div>

    <div style="display: flex;justify-content: center; margin-top: 10px;margin-bottom: 20px;">
        <button type="button" class="btn btn-success" onclick="createPDF()"  id="export" >Xuất file PDF</button>
    </div>
    


	<div th:replace="~{layouts/user/footer:: footer}"></div>
</body>

   <script>
        function createPDF(){
			alert("Tính năng đang được phát triển");
		}
    </script>

</html>